<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>๋ง์ดํ์ด์ง - ๋ฐฐ๊ณํ๋น</title>
  <link rel="stylesheet" href="static/style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<body>

<!-- ๐น ์๋จ ๋ค๋น๊ฒ์ด์ ๋ฐ -->
<div style="position: fixed; top: 0; left: 0; width: 100%; background-color: #5c6bc0; padding: 12px 20px; z-index: 999; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
  <!-- ๋ก๊ณ ๋ฐ ํ ๋งํฌ -->
  <a href="/" style="display: flex; align-items: center; gap: 8px; text-decoration: none;">
    <img src="static/logo.png" alt="๋ฐฐ๊ณํ๋น ๋ก๊ณ" style="height: 50px; border-radius: 35%;">
    <span style="color: white; font-size: 20px; font-weight: bold; font-style: oblique;">๋ฐฐ๊ณํ๋น</span>
  </a>

  <!-- ๋ฉ๋ด์ ๋ง์ดํ์ด์ง ๋ฒํผ -->
  <div style="display: flex; gap: 10px; align-items: center; margin-right: 25px;">
    <a href="mypage.html" class="mypage-btn" style="background: white; padding: 6px 12px; border-radius: 8px; font-size: 14px; font-weight: bold;">๋ง์ดํ์ด์ง</a>
    <div id="hamburger" style="cursor: pointer; font-size: 24px;">โฐ</div>
  </div>
</div>

<!-- ๐น ๋๋กญ๋ค์ด ๋ฉ๋ด (์ธ๋ก ์๋ฌ ๊ณ์) -->
<div id="menu" style="
  display: none;
  position: absolute;
  top: 60px;
  right: 10px;
  background: white;
  border-radius: 10px;
  padding: 12px 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  min-width: 180px;
  z-index: 998;
  display: flex;
  flex-direction: column;
  gap: 10px;
  white-space: nowrap;
">
  <a href="vote.html" style="text-decoration: none; color: #333; font-weight: bold;">๐ฝ ์ธ๊ธฐ๊ธ์ ํฌํํ๊ธฐ</a>
  <a href="auth.html" style="text-decoration: none; color: #333; font-weight: bold;">๐ ๋ก๊ทธ์ธ / ํ์๊ฐ์</a>
</div>

<!-- ๐น ๋ง์ดํ์ด์ง ๋ณธ๋ฌธ -->
<div class="container" style="margin-top: 120px;">
  <h1>๐โโ๏ธ ๋ง์ดํ์ด์ง</h1>

  <div class="section">
    <p><strong>๐ง ๋ก๊ทธ์ธ๋ ์ด๋ฉ์ผ:</strong> <span id="user-email">๋ก๋ฉ ์ค...</span></p>
  </div>

  <div class="section">
    <p><strong>๋๋ค์:</strong> <span id="nickname-display">์ค์ ์๋จ</span></p>
    <input type="text" id="nickname-input" placeholder="๋๋ค์ ์๋ฅ" />
    <button onclick="setNickname()">๋๋ค์ ์์ฅ</button>
  </div>

  <div class="section">
    <p><strong>โฐ์๋ฆผ ์ค์:</strong><br>์์ผ: ์~๊ธ / ์๊ฐ: ์ค์ 8์</p>
  </div>

  <div class="section">
    <button onclick="logout()">๐ช ๋ก๊ทธ์์</button>
  </div>
</div>

<!-- ๐น ์คํฌ๋ฆฝํธ -->
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyC03AFLg_KQpTMANt5b6hfPj3pEBjo8SBs",
    authDomain: "todaymeal-1e714.firebaseapp.com",
    projectId: "todaymeal-1e714",
    storageBucket: "todaymeal-1e714.appspot.com",
    messagingSenderId: "815968093910",
    appId: "1:815968093910:web:015a59857e22478230ab77",
    measurementId: "G-XYRR36LBNS"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // ๋ก๊ทธ์ธ ๊ฐ์ง
  auth.onAuthStateChanged((user) => {
    if (user) {
      document.getElementById("user-email").innerText = user.email;
    } else {
      alert("๋ก๊ทธ์ธ์ด ํ์ํฉ๋๋ค.");
      window.location.href = "auth.html";
    }
  });

  // ๋ก๊ทธ์์
  function logout() {
    auth.signOut().then(() => {
      alert("๋ก๊ทธ์์ ๋์์ต๋๋ค.");
      window.location.href = "auth.html";
    });
  }

  // ๋๋ค์ ์ค์
  function setNickname() {
    const nickname = document.getElementById("nickname-input").value;
    if (nickname.trim()) {
      localStorage.setItem("nickname", nickname);
      document.getElementById("nickname-display").innerText = nickname;
      alert("๋๋ค์์ด ์์ฅ๋์์ต๋๋ค.");
    }
  }

  // ๋๋ค์ ๋ถ๋ฌ์ค๊ธฐ
  window.onload = () => {
    const savedName = localStorage.getItem("nickname");
    if (savedName) {
      document.getElementById("nickname-display").innerText = savedName;
    }
  };

 
</script>
  <script src="static/js.js"></script>
</body>
</html>
